#!node
const { writeFileSync, readFileSync } = require('fs');

const { version } = JSON.parse(readFileSync('package.json'));

if (!version) {
  console.error('"version" not found in package.json');
  process.exit(1);
}

writeFileSync(
  'src/version.ts',
  `// auto-generated by bin/gen-version.js
export const VERSION = '${version}';
`
);
